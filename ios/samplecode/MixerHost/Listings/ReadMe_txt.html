<!DOCTYPE html>
<html lang="en">
<head>
    <title>Audio Mixer (MixerHost): ReadMe.txt</title>
    <meta http-equiv="X-UA-Compatible" content="IE=7">
    <meta charset="utf-8">
    <meta id="book-resource-type" name="book-resource-type" content="Sample Code">
    <meta scheme="apple_ref" id="identifier" name="identifier" content="//apple_ref/doc/uid/DTS40010210">
	<meta id="document-version" name="document-version" content="1.0.0">
    <meta id="build" name="build" content="bcf073e0579478458b78c3b3068a2133">
    <meta id="chapterId" name="chapterId" content="DTS40010210-ReadMe_txt">
    <meta id="date" name="date" content="2010-07-27">
    <meta id="description" name="description" content="Demonstrates how to use the Multichannel Mixer audio unit in an iOS application.">
    <meta id="book-title" name="book-title" content="Audio Mixer (MixerHost)">
    <meta id="book-name" name="book-name" content="DTS_SC2057_AudioMixerMixerH">
    <meta id="book-root" name="book-root" content="../">
    <meta id="book-json" name="book-json" content="../book.json">
    <meta id="devcenter" name="devcenter" content="iOS Dev Center">
    <meta id="devcenter-url" name="devcenter-url" content="http://developer.apple.com/devcenter/ios">
    <meta id="reflib" name="reflib" content="iOS Developer Library">
    <meta id="book-assignments" name="book-assignments" content="{Type/Sample Code}, {Framework/Media Layer/AudioUnit}, {Topic/Audio & Video/Audio}">
    
    
    <meta id="generator" name="generator" content="Gutenberg 003a3034">
    <meta name='numbat' content='aa879094b666337fdcde744b62fbff30'>
    <meta id="copyright" name="copyright" content="Copyright 2014 Apple Inc. All Rights Reserved.">
    <meta id="xcode-display" name="xcode-display" content="render">
    <meta id="IndexTitle" name="IndexTitle" content="ReadMe.txt">
    <meta id="resources-uri" name="resources-uri" content="../../../Resources/874">
    <link id="book-index-page" rel="Start" title="Audio Mixer (MixerHost)" type="text/html" href="../index.html">
    <link id="next-page" rel="Next" type="text/html" href="main_m.html">
    <link id="previous-page" rel="Prev" type="text/html" href="../Introduction/Intro.html">
    <link rel="stylesheet" type="text/css" href="../../../Resources/874/CSS/screen.css">
    
    <link rel="stylesheet" type="text/css" href="../../../Resources/874/CSS/feedback.css">
</head>    
<body><a name="//apple_ref/doc/uid/DTS40010210-ReadMe_txt" title="ReadMe.txt"></a>
    <div id="adcHeader" class="hideOnPrint hideInXcode">
        <div id='ssi_Header' class="hideInXcode phone">
            <a id="ssi_LibraryTitle" href='../../../navigation/index.html'>iOS Developer Library</a>
            <a id="ssi_AppleDeveloperConnection" href='../../../../../index.html'>Developer</a>
            <div id='ssi_SearchButton' role="button" title="Search">Search</div>
        </div>
        <form id='ssi_SearchMenu' method='get' action='../../../search/' accept-charset='utf-8'>
            <label for='adcsearch'>Search iOS Developer Library</label>
            <input type='search' id='ssi_SearchField' name='q' accesskey='s' results='5' />
        </form>
    </div>

    <header id="header">
        <div id="title" role="banner">
            <h1>Audio Mixer (MixerHost)</h1>
            <span id="file_links">
                <a id="PDF_link" role="button" tabindex='4' rel="alternate" title="Download PDF"><span id="pdf_icon"></span>PDF</a>
                <a id="Companion_link" role="button" tabindex='3' title="Download Companion File"><span id="companion_icon"></span>Companion File</a>
            </span>
        </div>
        <ul id="headerButtons" class="hideOnPrint" role="toolbar">
            <li id="toc_button" style="display:none">
                <button tabindex="5" id="table_of_contents" class="open" role="checkbox" aria-label="Show Table of Contents"><span class="disclosure"></span>Table of Contents</button>
            </li>
            <li id="jumpto_button" style="display:none" role="navigation"><select tabindex="6" id="jumpTo"><option value="top">Jump To&#133;</option></select></li>
            <li id="downloadSample_button" style="display:none">
                <a id="Sample_link"><button id="Sample_button">Download Sample Code</button></a>
            </li>
        </ul>
    </header>
    <nav id="tocContainer" tabindex="7">
        <ul id="toc" role="tree"></ul>
    </nav>

    <article id="contents" tabindex="0" role="main">
        <div id="pageNavigationLinks_top" class="pageNavigationLinks">
            <a class='nextLink' rel='next' href='main_m.html'>Next</a><a class='previousLink' rel='prev' href='../Introduction/Intro.html'>Previous</a>
        </div>
        <a id="top" name="top"></a>
        <a id="INDEX" href="../index.html" style="display:none;"></a>
        
        <a name="//apple_ref/doc/uid/DTS40010210-ReadMe_txt-DontLinkElementID_9" title="ReadMe.txt"></a>
    <h1 id="pageTitle">ReadMe.txt</h1>
    <div class="codesample clear"><table><tr><td scope="row"><pre>MixerHost<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>===========================================================================<span></span></pre></td></tr><tr><td scope="row"><pre>DESCRIPTION:<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>MixerHost demonstrates how to use the Multichannel Mixer audio unit in an iOS application. It also demonstrates how to use a render callback function to provide audio to an audio unit input bus. In this sample, the audio delivered by the callback comes from two short loops read from disk. You could use a similar callback, however, to synthesize sounds to feed into a mixer unit. <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>This sample is described in Audio Unit Hosting Guide for iOS.<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>The code in MixerHost instantiates two system-supplied audio units--the Multichannel Mixer unit (of subtype kAudioUnitSubType_MultichannelMixer) and the Remote I/O unit (of subtype kAudioUnitSubType_RemoteIO)--and connects them together using an audio processing graph (an AUGraph opaque type). The app functions as an audio mixer, letting a user control the playback levels of two sound loops.<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>The sample provides a user interface for controlling the following Multichannel Mixer unit parameters:<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    * input bus enable<span></span></pre></td></tr><tr><td scope="row"><pre>    * input bus gain<span></span></pre></td></tr><tr><td scope="row"><pre>    * output bus gain<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>This sample shows how to:<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    * Write an input render callback function<span></span></pre></td></tr><tr><td scope="row"><pre>    * Locate system audio units at runtime and then load, instantiate, configure, <span></span></pre></td></tr><tr><td scope="row"><pre>        and connect them<span></span></pre></td></tr><tr><td scope="row"><pre>    * Correctly use audio stream formats in the context of an audio processing<span></span></pre></td></tr><tr><td scope="row"><pre>       graph<span></span></pre></td></tr><tr><td scope="row"><pre>    * Instantiate, open, initialize, and start an audio processing graph<span></span></pre></td></tr><tr><td scope="row"><pre>    * Control a Multichannel Mixer unit through a user interface<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>This sample also shows how to:<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    * Configure an audio application for playing in the background by adding the <span></span></pre></td></tr><tr><td scope="row"><pre>        "app plays audio" key to the info.plist file<span></span></pre></td></tr><tr><td scope="row"><pre>    * Use the AVAudioSession class to configure audio behavior, set hardware<span></span></pre></td></tr><tr><td scope="row"><pre>        sample rate, and handle interruptions<span></span></pre></td></tr><tr><td scope="row"><pre>    * Make the app eligible for its audio session to be reactivated while in the <span></span></pre></td></tr><tr><td scope="row"><pre>        background<span></span></pre></td></tr><tr><td scope="row"><pre>    * Respond to remote-control events as described in Event Handling Guide for <span></span></pre></td></tr><tr><td scope="row"><pre>        iOS<span></span></pre></td></tr><tr><td scope="row"><pre>    * Allocate memory for an AudioBufferList struct so that it can handle more<span></span></pre></td></tr><tr><td scope="row"><pre>        than one channel of audio<span></span></pre></td></tr><tr><td scope="row"><pre>   * Use the C interface from Audio Session Services to handle audio hardware <span></span></pre></td></tr><tr><td scope="row"><pre>        route changes<span></span></pre></td></tr><tr><td scope="row"><pre>    * Use Cocoa notifications to communicate state changes from the audio object <span></span></pre></td></tr><tr><td scope="row"><pre>        back to the controller object<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>To test how this app can reactivate its audio session while in the background in iOS 4.0 or later:<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    1. Launch the app and start playback.<span></span></pre></td></tr><tr><td scope="row"><pre>    2. Press the Home button. MixerHost continues to play in the background.<span></span></pre></td></tr><tr><td scope="row"><pre>    3. Launch the Clock app and set a one-minute countdown timer. Leave the <span></span></pre></td></tr><tr><td scope="row"><pre>        Clock app running in the foreground.<span></span></pre></td></tr><tr><td scope="row"><pre>    4. When the timer expires, an alarm sounds, which interrupts MixerHost and <span></span></pre></td></tr><tr><td scope="row"><pre>        stops its audio.<span></span></pre></td></tr><tr><td scope="row"><pre>    5. Tap OK to dismiss the Timer Done alert. The MixerHost audio resumes <span></span></pre></td></tr><tr><td scope="row"><pre>        playback while the app remains in the background.<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>To test how this app responds to remote-control events:<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    1. Launch the app and start playback.<span></span></pre></td></tr><tr><td scope="row"><pre>    2. Press the Home button. MixerHost continues to play in the background.<span></span></pre></td></tr><tr><td scope="row"><pre>    3. Double-press the Home button to display the running apps.<span></span></pre></td></tr><tr><td scope="row"><pre>    4. Swipe right to expose the audio transport controls.<span></span></pre></td></tr><tr><td scope="row"><pre>    5. Notice the MixerHost icon at the bottom-right of the screen. This <span></span></pre></td></tr><tr><td scope="row"><pre>        indicates that MixerHost is the current target of remote-control<span></span></pre></td></tr><tr><td scope="row"><pre>        events.<span></span></pre></td></tr><tr><td scope="row"><pre>    6. Tap the play/pause toggle button; MixerHost stops. Tap it again;<span></span></pre></td></tr><tr><td scope="row"><pre>        MixerHost resumes playback. Tap the MixerHost icon; MixerHost<span></span></pre></td></tr><tr><td scope="row"><pre>        comes to the foreground.<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>===========================================================================<span></span></pre></td></tr><tr><td scope="row"><pre>RELATED INFORMATION:<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>Audio Unit Hosting Guide for iOS, May 2010<span></span></pre></td></tr><tr><td scope="row"><pre>Audio Session Programming Guide, April 2010<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>===========================================================================<span></span></pre></td></tr><tr><td scope="row"><pre>BUILD REQUIREMENTS:<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>Mac OS X v10.6.4, Xcode 3.2, iOS 4.0<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>===========================================================================<span></span></pre></td></tr><tr><td scope="row"><pre>RUNTIME REQUIREMENTS:<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>Simulator: Mac OS X v10.6.4<span></span></pre></td></tr><tr><td scope="row"><pre>Devices:   iOS 4.0<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>===========================================================================<span></span></pre></td></tr><tr><td scope="row"><pre>PACKAGING LIST:<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>MixerHostAppDelegate.h<span></span></pre></td></tr><tr><td scope="row"><pre>MixerHostAppDelegate.m<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>The MixerHostAppDelegate class defines the application delegate object, responsible for instantiating the controller object (defined in the MixerHostViewController class) and adding the application's view to the application window.<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>MixerHostViewController.h<span></span></pre></td></tr><tr><td scope="row"><pre>MixerHostViewController.m<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>The MixerHostViewController class defines the controller object for the application. The object helps set up the user interface, responds to and manages user interaction, responds to notifications from the MixerHostAudio object to handle audio interruptions and audio route changes, and handles various housekeeping duties.<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>MixerHostAudio.h<span></span></pre></td></tr><tr><td scope="row"><pre>MixerHostAudio.m<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>The MixerHostAudio class encapsulates all of the audio capabilities for the application. It handles audio session configuration, use of the ExtAudioFileRef opaque type for reading audio files from disk into memory, and construction and management of the audio processing graph. It detects interruptions and audio route changes and uses notifications to communicate audio state changes back to the MixerHostViewController object.<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>===========================================================================<span></span></pre></td></tr><tr><td scope="row"><pre>CHANGES FROM PREVIOUS VERSIONS:<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>Version 1.0. New sample application that demonstrates how to host a Multichannel Mixer unit.<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>================================================================================<span></span></pre></td></tr><tr><td scope="row"><pre>Copyright (C) 2010 Apple Inc. All rights reserved.<span></span></pre></td></tr></table></div>

        <div id="pageNavigationLinks_bottom" class="pageNavigationLinks">
            <a class='nextLink' rel='next' href='main_m.html'>Next</a><a class='previousLink' rel='prev' href='../Introduction/Intro.html'>Previous</a>
        </div><br/>
        <div class="copyright"><br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> Copyright &#x00a9; 2010 Apple Inc. All Rights Reserved. <a href="http://www.apple.com/legal/internet-services/terms/site.html" target="_blank">Terms of Use</a>   |  <a href="http://www.apple.com/privacy/" target="_blank">Privacy Policy</a>  |  Updated: 2010-07-27</p></div></div>

        <div id="pediaWindow">
            <div id="pediaHeader"></div>
            <div id="pediaBody"></div>
        </div>
    </article>

    <div id="blackout">
    <div id="preload"></div>
</div>
<div id="leave_feedback" class="button" role="button" tabindex="0">Feedback</div>
<div id="modal" aria-hidden="true">
    <div id="closebox" tabindex="0" aria-label="Close feedback form" role="button"></div>
    <div id="sending" class="hidden">
        <h2 tabindex="0">Sending feedback&hellip;</h2>
        <div id="sending_img"></div>
    </div>
    <div id="error" class="hidden">
        <h2 tabindex="0">We&rsquo;re sorry, an error has occurred.</h2>
        <p>Please try submitting your feedback later.</p>
        <div id="error_icon"></div>
    </div>
    <div id="success" class="hidden">
        <h2 tabindex="0">Thank you for providing feedback!</h2>
        <p>Your input helps improve our developer documentation.</p>
        <div id="thank_you_icon"></div>
    </div>
    
    <form id="feedback" action="#" method="post">
        <div class="left-leaf">
            <h2 id="helpful_title" data-asterisk="a1" tabindex="0">How helpful is this document?</h2>     
            <sup id="a1" class="asterisk" aria-hidden="true">*</sup>

            <div id="star_group" role="radiogroup" aria-required="true">
                <label> 
                    <input class="radio" type="radio" name="helped" value="1" /> 
                    Very helpful
                </label>
                <label> 
                    <input class="radio" type="radio" name="helped" value="2" /> 
                    Somewhat helpful
                </label>
                <label>
                    <input class="radio" type="radio" name="helped" value="3" /> 
                    Not helpful
                </label>
            </div>
        </div>
        <div class="right-leaf">
            <h2>How can we improve this document?</h2>
            <div id="improve" class="checkboxes">
                <label>
                    <input type="checkbox" name="typo" /> 
                    Fix typos or links
                </label>
                <label>
                    <input type="checkbox" name="infoIncorrect" /> 
                    Fix incorrect information
                </label>
                <label>
                    <input type="checkbox" name="needs_examples" /> 
                    Add or update code samples
                </label>
                <label>
                    <input type="checkbox" name="needs_art" /> 
                    Add or update illustrations
                </label>
                <label>
                    <input type="checkbox" name="missingInfo" /> 
                    Add information about...
                </label>
            </div>
        </div>

        <textarea id="comment" name="problem" cols="70" rows="8" placeholder="Please tell us more about your experience with this document" data-asterisk="a2" required></textarea>
        <sup id="a2" class="asterisk" aria-hidden="true">*</sup>

        <input id="email" type="email" name="email" placeholder="Email (optional)" size="48">

        <p class="fineprint">
            <em aria-hidden="true"><span>*</span> Required information</em>
        </p> 

        <input id="submit" type="button" value="Send" />

        <section id="legal">
            <p>
                To submit a product bug or enhancement request, please visit the 
                <a href="../../../../../bug-reporting/index.html" target="_blank">Bug Reporter</a> 
                page.
            </p>
            <p>
                Please read <a href="http://www.apple.com/legal/policies/ideas.html" target="_blank">Apple's Unsolicited Idea Submission Policy</a> 
                before you send us your feedback.
            </p> 
        </section>
    </form>
</div>

    
    <script charset="utf-8" src="../../../Resources/874/JavaScript/lib/prototype.js"></script>
    <script src="../../../Resources/874/JavaScript/library.js"></script>
    <script src="../../../Resources/874/JavaScript/feedback.js"></script>
</body>
<script type="text/javascript" src="../../../../webstats/pagetracker.js"></script>
<script type="text/javascript">
if(typeof PageTracker !== 'undefined') {
  if(window.addEventListener) {
    window.addEventListener("load", function(){PageTracker.logPageLoad()},false);
  } else if(window.attachEvent) {
    window.attachEvent("onload",function(){PageTracker.logPageLoad()});
  }
}
</script>
</html>
