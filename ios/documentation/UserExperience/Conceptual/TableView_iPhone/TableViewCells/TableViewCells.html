<!DOCTYPE html>
<html lang="en">
<head>
    <title>Table View Programming Guide for iOS: A Closer Look at Table View Cells</title>
    <meta http-equiv="X-UA-Compatible" content="IE=7">
    <meta charset="utf-8">
    <meta id="book-resource-type" name="book-resource-type" content="Guide">
    <meta scheme="apple_ref" id="identifier" name="identifier" content="//apple_ref/doc/uid/TP40007451">
	<meta id="document-version" name="document-version" content="5.0.0">
    <meta id="build" name="build" content="bcf073e0579478458b78c3b3068a2133">
    <meta id="chapterId" name="chapterId" content="TP40007451-CH7">
    <meta id="date" name="date" content="2013-09-18">
    <meta id="description" name="description" content="Describes how to create and manage table views for applications running iOS.">
    <meta id="book-title" name="book-title" content="Table View Programming Guide for iOS">
    <meta id="book-name" name="book-name" content="TableView_iPhone">
    <meta id="book-root" name="book-root" content="../">
    <meta id="book-json" name="book-json" content="../book.json">
    <meta id="devcenter" name="devcenter" content="iOS Dev Center">
    <meta id="devcenter-url" name="devcenter-url" content="http://developer.apple.com/devcenter/ios">
    <meta id="reflib" name="reflib" content="iOS Developer Library">
    <meta id="book-assignments" name="book-assignments" content="{Type/Guide}, {Framework/Cocoa Touch Layer/UIKit}, {Topic/User Experience/Tables}">
    <meta name="pdf" contents="../TableView_iPhone.pdf" /><link id="book-pdf" media="print" rel="alternate" type="application/pdf" href="../TableView_iPhone.pdf" />
    
    <meta id="generator" name="generator" content="Gutenberg 003a3034">
    <meta name='numbat' content='aa879094b666337fdcde744b62fbff30'>
    <meta id="copyright" name="copyright" content="Copyright 2014 Apple Inc. All Rights Reserved.">
    <meta id="xcode-display" name="xcode-display" content="render">
    <meta id="IndexTitle" name="IndexTitle" content="A Closer Look at Table View Cells">
    <meta id="resources-uri" name="resources-uri" content="../../../../../Resources/874">
    <link id="book-index-page" rel="Start" title="Table View Programming Guide for iOS" type="text/html" href="../index.html">
    <link id="next-page" rel="Next" type="text/html" href="../ManageSelections/ManageSelections.html">
    <link id="previous-page" rel="Prev" type="text/html" href="../CreateConfigureTableView/CreateConfigureTableView.html">
    <link rel="stylesheet" type="text/css" href="../../../../../Resources/874/CSS/screen.css">
    
    <link rel="stylesheet" type="text/css" href="../../../../../Resources/874/CSS/feedback.css">
</head>    
<body><a name="//apple_ref/doc/uid/TP40007451-CH7" title="A Closer Look at Table View Cells"></a>
    <div id="adcHeader" class="hideOnPrint hideInXcode">
        <div id='ssi_Header' class="hideInXcode phone">
            <a id="ssi_LibraryTitle" href='../../../../../navigation/index.html'>iOS Developer Library</a>
            <a id="ssi_AppleDeveloperConnection" href='../../../../../../../index.html'>Developer</a>
            <div id='ssi_SearchButton' role="button" title="Search">Search</div>
        </div>
        <form id='ssi_SearchMenu' method='get' action='../../../../../search/' accept-charset='utf-8'>
            <label for='adcsearch'>Search iOS Developer Library</label>
            <input type='search' id='ssi_SearchField' name='q' accesskey='s' results='5' />
        </form>
    </div>

    <header id="header">
        <div id="title" role="banner">
            <h1>Table View Programming Guide for iOS</h1>
            <span id="file_links">
                <a id="PDF_link" role="button" tabindex='4' rel="alternate" title="Download PDF"><span id="pdf_icon"></span>PDF</a>
                <a id="Companion_link" role="button" tabindex='3' title="Download Companion File"><span id="companion_icon"></span>Companion File</a>
            </span>
        </div>
        <ul id="headerButtons" class="hideOnPrint" role="toolbar">
            <li id="toc_button" style="display:none">
                <button tabindex="5" id="table_of_contents" class="open" role="checkbox" aria-label="Show Table of Contents"><span class="disclosure"></span>Table of Contents</button>
            </li>
            <li id="jumpto_button" style="display:none" role="navigation"><select tabindex="6" id="jumpTo"><option value="top">Jump To&#133;</option></select></li>
            <li id="downloadSample_button" style="display:none">
                <a id="Sample_link"><button id="Sample_button">Download Sample Code</button></a>
            </li>
        </ul>
    </header>
    <nav id="tocContainer" tabindex="7">
        <ul id="toc" role="tree"></ul>
    </nav>

    <article id="contents" tabindex="0" role="main">
        <div id="pageNavigationLinks_top" class="pageNavigationLinks">
            <a class='nextLink' rel='next' href='../ManageSelections/ManageSelections.html'>Next</a><a class='previousLink' rel='prev' href='../CreateConfigureTableView/CreateConfigureTableView.html'>Previous</a>
        </div>
        <a id="top" name="top"></a>
        <a id="INDEX" href="../index.html" style="display:none;"></a>
        
        <a name="//apple_ref/doc/uid/TP40007451-CH7-SW1" title="A Closer Look at Table View Cells"></a><h1 id="pageTitle">A Closer Look at Table View Cells</h1><p>A table view uses cell objects to draw its visible rows and then caches those objects as long as the rows are visible. Cells inherit from the <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/cl/UITableViewCell" target="_self">UITableViewCell</a></code> class. The table view’s <span class="pediaLink" data-header="Delegation" data-contents="Delegation is a simple and powerful pattern in which one object in a program acts on behalf of, or in coordination with, another object. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/Delegation.html#/apple_ref/doc/uid/TP40008195-CH14" target="_self">data source</a></span> provides the cell objects to the table view by implementing the <code><a href="../../../../UIKit/Reference/UITableViewDataSource_Protocol/Reference/Reference.html#/apple_ref/occ/intfm/UITableViewDataSource/tableView:cellForRowAtIndexPath:" target="_self">tableView:cellForRowAtIndexPath:</a></code> method, a required method of the <code><a href="../../../../UIKit/Reference/UITableViewDataSource_Protocol/Reference/Reference.html#/apple_ref/occ/intf/UITableViewDataSource" target="_self">UITableViewDataSource</a></code> <span class="pediaLink" data-header="Protocol" data-contents="A protocol declares a programmatic interface that any class may choose to implement. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/Protocol.html#/apple_ref/doc/uid/TP40008195-CH45" target="_self">protocol</a></span>. </p><p>In this chapter, you’ll learn about:</p><ul class="ul"><li class="li"><p>The characteristics of cells</p></li><li class="li"><p>How to use the default capabilities of <code>UITableViewCell</code> for setting cell content</p></li><li class="li"><p>How to create custom <code>UITableViewCell</code> objects</p></li></ul><section><a name="//apple_ref/doc/uid/TP40007451-CH7-SW10" title="Characteristics of Cell Objects"></a><h2 class="jump">Characteristics of Cell Objects</h2><p>A cell object has various parts, which can change depending on the mode of the table view. Normally, most of a cell object is reserved for its content: text, image, or any other kind of distinctive identifier. <span class="content_text">Figure 5-1</span> shows the major parts of a cell. </p><figure class="figure"><a name="//apple_ref/doc/uid/TP40007451-CH7-SW9" title="Figure 5-1Parts of a table view cell"></a><figcaption><strong class="caption_number">Figure 5-1</strong>&nbsp;&nbsp;Parts of a table view cell</figcaption><img src="../Art/tv_cell_parts.jpg" alt="Parts of a table-view cell" width="448" height="100"></figure><p>The smaller area on the right side of the cell is reserved for accessory views: disclosure indicators, detail disclosure controls, control objects such as sliders or switches, and custom views. </p><p>When the table view goes into editing mode, the editing control for each cell object (if it’s configured to have such a control) appears on its left side, in the area shown in <span class="content_text">Figure 5-2</span>.</p><figure class="figure"><a name="//apple_ref/doc/uid/TP40007451-CH7-SW14" title="Figure 5-2Parts of a table-view cell in editing mode"></a><figcaption><strong class="caption_number">Figure 5-2</strong>&nbsp;&nbsp;Parts of a table-view cell in editing mode</figcaption><img src="../Art/tv_cell_parts_edit.jpg" alt="Parts of a table-view cell—editing mode" width="463" height="101"></figure><p>The editing control can be either a deletion control (a red minus sign inside a circle) or an insertion control (a green plus sign inside a circle). The cell’s content is pushed toward the right to make room for the editing control. If the cell object is configured for reordering (that is, relocation within the table view), the reordering control appears in the right side of the cell, next to any accessory view specified for editing mode. The reordering control is a stack of horizontal lines; to relocate a row within its table view, users press on the reordering control and drag the cell.</p><p>If a cell object is reusable—the typical case—you assign it a reuse identifier (an arbitrary string) in the storyboard. At runtime, the table view stores cell objects in an internal queue. When the table view asks the <span class="pediaLink" data-header="Delegation" data-contents="Delegation is a simple and powerful pattern in which one object in a program acts on behalf of, or in coordination with, another object. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/Delegation.html#/apple_ref/doc/uid/TP40008195-CH14" target="_self">data source</a></span> to configure a cell object for display, the data source can access the queued object by sending a <code><a href="../../../../UIKit/Reference/UITableView_Class/Reference/Reference.html#/apple_ref/occ/instm/UITableView/dequeueReusableCellWithIdentifier:" target="_self">dequeueReusableCellWithIdentifier:</a></code> message to the table view, passing in a reuse identifier. The data source sets the content of the cell and any special properties before returning it. This reuse of cell objects is a performance enhancement because it eliminates the overhead of cell creation. </p><p>With multiple cell objects in a queue, each with its own identifier, you can have table views constructed from cell objects of different types. For example, some rows of a table view can have content based on the image and text properties of a <code>UITableViewCell</code> in a predefined style, while other rows can be based on a customized <code>UITableViewCell</code> that defines a special format for its content.</p><p>When providing cells for the table view, there are three general approaches you can take. You can use ready-made cell objects in a range of styles, you can add your own subviews to the cell object’s content view (which can be done in Interface Builder), or you can use cell objects created from a custom subclass of <code>UITableViewCell</code>. Note that the content view is a container of other views and so displays no content itself.</p></section><section><a name="//apple_ref/doc/uid/TP40007451-CH7-SW11" title="Using Cell Objects in Predefined Styles"></a><h2 class="jump">Using Cell Objects in Predefined Styles</h2><p>Using the <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/cl/UITableViewCell" target="_self">UITableViewCell</a></code> class directly, you can <span class="pediaLink" data-header="Object creation" data-contents="An object comes into runtime existence through a two-step process that allocates memory for the object and sets its state to reasonable initial values. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/ObjectCreation.html#/apple_ref/doc/uid/TP40008195-CH39" target="_self">create</a></span> “off-the-shelf” cell objects in a range of predefined styles. <span class="content_text"><a href="../TableViewStyles/TableViewCharacteristics.html#/apple_ref/doc/uid/TP40007451-CH3-SW14">“Standard Styles for Table View Cells”</a></span> describes these standard cells and provides examples of how they look in a table view. These cells are associated with the following <code>enum</code> constants, declared in <code>UITableViewCell.h</code>: </p><div class="codesample clear"><table><tr><td scope="row"><pre>typedef enum {<span></span></pre></td></tr><tr><td scope="row"><pre>    UITableViewCellStyleDefault,<span></span></pre></td></tr><tr><td scope="row"><pre>    UITableViewCellStyleValue1,<span></span></pre></td></tr><tr><td scope="row"><pre>    UITableViewCellStyleValue2,<span></span></pre></td></tr><tr><td scope="row"><pre>    UITableViewCellStyleSubtitle<span></span></pre></td></tr><tr><td scope="row"><pre>} UITableViewCellStyle;<span></span></pre></td></tr></table></div><p>These cell objects have two kinds of content: one or more text strings and, in some cases, an image. <span class="content_text">Figure 5-3</span> shows the approximate areas for image and text. As an image expands to the right, it pushes the text in the same direction. </p><figure class="figure"><a name="//apple_ref/doc/uid/TP40007451-CH7-SW2" title="Figure 5-3Default cell content in a UITableViewCell object"></a><figcaption><strong class="caption_number">Figure 5-3</strong>&nbsp;&nbsp;Default cell content in a <code>UITableViewCell</code> object</figcaption><img src="../Art/tv_cell_parts_simple.jpg" alt="Default cell content in a UITableViewCell object" width="448" height="144"></figure><p>The <code>UITableViewCell</code> class defines three <span class="pediaLink" data-header="Declared property" data-contents="A declared property provides a syntactical shorthand for declaring a class’s accessor methods and, optionally, implementing them. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/DeclaredProperty.html#/apple_ref/doc/uid/TP40008195-CH13" target="_self">properties</a></span> for this cell content:</p><ul class="ul"><li class="li"><p><code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/textLabel" target="_self">textLabel</a></code>—A label for the title (a <code><a href="../../../../UIKit/Reference/UILabel_Class/Reference/UILabel.html#/apple_ref/occ/cl/UILabel" target="_self">UILabel</a></code> object)</p></li><li class="li"><p><code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/detailTextLabel" target="_self">detailTextLabel</a></code>—A label for the subtitle if there is additional detail (a <code>UILabel</code> object)</p></li><li class="li"><p><code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/imageView" target="_self">imageView</a></code>—An image view for an image (a <code><a href="../../../../UIKit/Reference/UIImageView_Class/Reference/Reference.html#/apple_ref/occ/cl/UIImageView" target="_self">UIImageView</a></code> object)</p></li></ul><p>Because the first two of these properties are labels, you can set the font, alignment, line-break mode, and color of the associated text through the properties defined by the <code><a href="../../../../UIKit/Reference/UILabel_Class/Reference/UILabel.html#/apple_ref/occ/cl/UILabel" target="_self">UILabel</a></code> class (including the color of text when the row is highlighted). For the image view property, you can also set an alternative image for when the cell is highlighted using the <code><a href="../../../../UIKit/Reference/UIImageView_Class/Reference/Reference.html#/apple_ref/occ/instm/UIImageView/highlightedImage" target="_self">highlightedImage</a></code> property of the <code>UIImageView</code> class. </p><p><span class="content_text">Figure 5-4</span> gives an example of a table view whose rows are drawn using a <code>UITableViewCell</code> object in the <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/c/econst/UITableViewCellStyleSubtitle" target="_self">UITableViewCellStyleSubtitle</a></code> style; it includes both an image and, for textual content, a title and a subtitle.</p><figure class="figure"><a name="//apple_ref/doc/uid/TP40007451-CH7-SW3" title="Figure 5-4A table view with rows showing both images and text"></a><figcaption><strong class="caption_number">Figure 5-4</strong>&nbsp;&nbsp;A table view with rows showing both images and text</figcaption><img src="../Art/tvcellstyle_subtitle.jpg" alt="" width="322" height="482"></figure><p><span class="content_text">Listing 5-1</span> shows the  implementation of <code><a href="../../../../UIKit/Reference/UITableViewDataSource_Protocol/Reference/Reference.html#/apple_ref/occ/intfm/UITableViewDataSource/tableView:cellForRowAtIndexPath:" target="_self">tableView:cellForRowAtIndexPath:</a></code> that creates the table view rows in <span class="content_text"><a href="TableViewCells.html#/apple_ref/doc/uid/TP40007451-CH7-SW3">Figure 5-4</a></span>. The first thing the data source should do is send <code><a href="../../../../UIKit/Reference/UITableView_Class/Reference/Reference.html#/apple_ref/occ/instm/UITableView/dequeueReusableCellWithIdentifier:" target="_self">dequeueReusableCellWithIdentifier:</a></code> to the table view, passing in a reuse identifier. If a prototype for the cell exists in a storyboard, the table view returns a reusable cell object. Then it sets the cell object’s content, both text and image.</p><a name="//apple_ref/doc/uid/TP40007451-CH7-SW4" title="Listing 5-1Configuring a UITableViewCell object with both image and text"></a><p class="codesample clear"><strong class="caption_number">Listing 5-1</strong>&nbsp;&nbsp;Configuring a <code>UITableViewCell</code> object with both image and text</p><div class="codesample clear"><table><tr><td scope="row"><pre>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"MyIdentifier"];<span></span></pre></td></tr><tr><td scope="row"><pre>    if (cell == nil) {<span></span></pre></td></tr><tr><td scope="row"><pre>        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:@"MyIdentifier"];<span></span></pre></td></tr><tr><td scope="row"><pre>        cell.selectionStyle = UITableViewCellSelectionStyleNone;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    NSDictionary *item = (NSDictionary *)[self.content objectAtIndex:indexPath.row];<span></span></pre></td></tr><tr><td scope="row"><pre>    cell.textLabel.text = [item objectForKey:@"mainTitleKey"];<span></span></pre></td></tr><tr><td scope="row"><pre>    cell.detailTextLabel.text = [item objectForKey:@"secondaryTitleKey"];<span></span></pre></td></tr><tr><td scope="row"><pre>    NSString *path = [[NSBundle mainBundle] pathForResource:[item objectForKey:@"imageKey"] ofType:@"png"];<span></span></pre></td></tr><tr><td scope="row"><pre>    UIImage *theImage = [UIImage imageWithContentsOfFile:path];<span></span></pre></td></tr><tr><td scope="row"><pre>    cell.imageView.image = theImage;<span></span></pre></td></tr><tr><td scope="row"><pre>    return cell;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>The table view’s data source implementation of <code><a href="../../../../UIKit/Reference/UITableViewDataSource_Protocol/Reference/Reference.html#/apple_ref/occ/intfm/UITableViewDataSource/tableView:cellForRowAtIndexPath:" target="_self">tableView:cellForRowAtIndexPath:</a></code> should <em>always</em> reset all content when reusing a cell. </p><p>When you configure a <code>UITableViewCell</code> object, you can also set various other properties, including (but not limited to) the following:</p><ul class="ul"><li class="li"><p><code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instm/UITableViewCell/selectionStyle" target="_self">selectionStyle</a></code>—Controls the appearance of the cell when selected.</p></li><li class="li"><p><code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/accessoryType" target="_self">accessoryType</a></code> and <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instm/UITableViewCell/accessoryView" target="_self">accessoryView</a></code>—Allow you to set one of the standard accessory views (disclosure indicator or detail disclosure control) or a custom accessory view for a cell in normal (nonediting) mode. For a custom view, you may provide any <code><a href="../../../../UIKit/Reference/UIView_Class/UIView/UIView.html#/apple_ref/occ/cl/UIView" target="_self">UIView</a></code> object, such as a slider, a switch, or a custom view.</p></li><li class="li"><p><code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/editingAccessoryType" target="_self">editingAccessoryType</a></code> and <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instm/UITableViewCell/setEditingAccessoryView:" target="_self">editingAccessoryView</a></code>—Allow you to set one of the standard accessory views (disclosure indicator or detail disclosure control) or a custom accessory view for a cell in editing mode. For a custom view, you may provide any <code><a href="../../../../UIKit/Reference/UIView_Class/UIView/UIView.html#/apple_ref/occ/cl/UIView" target="_self">UIView</a></code> object, such as a slider, a switch, or a custom view. </p></li><li class="li"><p><code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/showsReorderControl" target="_self">showsReorderControl</a></code>—Specifies whether it shows a reordering control when in editing mode. The related but read-only <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instm/UITableViewCell/editingStyle" target="_self">editingStyle</a></code> property specifies the type of editing control the cell has (if any). The delegate returns the value of the <code>editingStyle</code> property in its implementation of the <code><a href="../../../../UIKit/Reference/UITableViewDelegate_Protocol/Reference/Reference.html#/apple_ref/occ/intfm/UITableViewDelegate/tableView:editingStyleForRowAtIndexPath:" target="_self">tableView:editingStyleForRowAtIndexPath:</a></code> method.</p></li><li class="li"><p><code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/backgroundView" target="_self">backgroundView</a></code> and <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/selectedBackgroundView" target="_self">selectedBackgroundView</a></code>—Provide a background view (when a cell is unselected and selected) to display behind all other views of the cell.</p></li><li class="li"><p><code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/indentationLevel" target="_self">indentationLevel</a></code> and <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/indentationWidth" target="_self">indentationWidth</a></code>—Specify the indentation level for cell content and the width of each indentation level.</p></li></ul><p>Because a table view cell inherits from <code><a href="../../../../UIKit/Reference/UIView_Class/UIView/UIView.html#/apple_ref/occ/cl/UIView" target="_self">UIView</a></code>, you can also affect its appearance and behavior by setting the properties defined by that superclass. For example, to affect a cell’s background color, you could set its <code><a href="../../../../UIKit/Reference/UIView_Class/UIView/UIView.html#/apple_ref/occ/instm/UIView/backgroundColor" target="_self">backgroundColor</a></code> property. <span class="content_text">Listing 5-2</span> shows how you might use the delegate method <code><a href="../../../../UIKit/Reference/UITableViewDelegate_Protocol/Reference/Reference.html#/apple_ref/occ/intfm/UITableViewDelegate/tableView:willDisplayCell:forRowAtIndexPath:" target="_self">tableView:willDisplayCell:forRowAtIndexPath:</a></code> to alternate the background color of rows (via their backing cells) in a table view.</p><a name="//apple_ref/doc/uid/TP40007451-CH7-SW34" title="Listing 5-2Alternating the background color of cells"></a><p class="codesample clear"><strong class="caption_number">Listing 5-2</strong>&nbsp;&nbsp;Alternating the background color of cells</p><div class="codesample clear"><table><tr><td scope="row"><pre>- (void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath {<span></span></pre></td></tr><tr><td scope="row"><pre>    if (indexPath.row%2 == 0) {<span></span></pre></td></tr><tr><td scope="row"><pre>        UIColor *altCellColor = [UIColor colorWithWhite:0.7 alpha:0.1];<span></span></pre></td></tr><tr><td scope="row"><pre>        cell.backgroundColor = altCellColor;<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p><span class="content_text">Listing 5-2</span> also illustrates an important aspect of the table view API. A table view sends a <code><a href="../../../../UIKit/Reference/UITableViewDelegate_Protocol/Reference/Reference.html#/apple_ref/occ/intfm/UITableViewDelegate/tableView:willDisplayCell:forRowAtIndexPath:" target="_self">tableView:willDisplayCell:forRowAtIndexPath:</a></code> message to its <span class="pediaLink" data-header="Delegation" data-contents="Delegation is a simple and powerful pattern in which one object in a program acts on behalf of, or in coordination with, another object. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/Delegation.html#/apple_ref/doc/uid/TP40008195-CH14" target="_self">delegate</a></span> just before it draws a row. If the delegate chooses to implement this method, it can make last-minute changes to the cell object before it is displayed. With this method, the delegate should change only state-based properties that were set earlier by the table view, such as selection and background color, and not content. </p></section><section><a name="//apple_ref/doc/uid/TP40007451-CH7-SW18" title="Customizing Cells"></a><h2 class="jump">Customizing Cells</h2><p>The four predefined styles of <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/cl/UITableViewCell" target="_self">UITableViewCell</a></code> objects suffice for most of the rows that table views display. With these ready-made cell objects, rows can include one or two styles of text, often an image, and an accessory view of some sort. The application can modify the text in its font, color, and other characteristics, and it can supply an image for the row in its selected state as well as its normal state. </p><p>As flexible and useful as this cell content is, it might not satisfy the requirements of all applications. For example, the labels permitted by a native <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/cl/UITableViewCell" target="_self">UITableViewCell</a></code> object are pinned to specific locations within a row, and the image must appear on the left side of the row. If you want the cell to have different content components and to have these laid out in different locations, or if you want different behavioral characteristics for the cell, you have two alternatives: </p><ul class="ul"><li class="li"><p>Add subviews to a cell’s content view.</p></li><li class="li"><p>Create a custom subclass of <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/cl/UITableViewCell" target="_self">UITableViewCell</a></code>. </p></li></ul><p>The following sections discuss both approaches.</p><section><a name="//apple_ref/doc/uid/TP40007451-CH7-SW20" title="Loading Table View Cells from a Storyboard"></a><h3 class="jump">Loading Table View Cells from a Storyboard</h3><p>In a <span class="pediaLink" data-header="Storyboard" data-contents="A storyboard is a visual representation of the user interface of an iOS application, showing screens of content and the connections between those screens. "><a href="../../../../General/Conceptual/Devpedia-CocoaApp/Storyboard.html#/apple_ref/doc/uid/TP40009071-CH99" target="_self">storyboard</a></span>, the cells in a table view are dynamic or static. With dynamic content, the table view is a list with a large (and potentially unbounded) number of rows. With static content, the number of rows is a finite quantity that’s known at compile time. A table view that presents a detail view of an item is a good candidate for static content. </p><p>You can design dynamic or static cell content directly inside a table view object. <span class="content_text">Figure 5-5</span> shows the master and detail table views in a simple storyboard. In this example, the master table view contains dynamic prototype cells, and the detail table view contains static cells.</p><figure class="figure"><a name="//apple_ref/doc/uid/TP40007451-CH7-SW35" title="Figure 5-5Table view cells in a storyboard"></a><figcaption><strong class="caption_number">Figure 5-5</strong>&nbsp;&nbsp;Table view cells in a storyboard</figcaption><img src="../Art/custom_cells.jpg" alt="" width="669" height="305"></figure><p>The following sections demonstrate how to load data into table views that contain custom-configured cells. </p><section><a name="//apple_ref/doc/uid/TP40007451-CH7-SW31" title="The Technique for Dynamic Row Content"></a><h4 class="jump">The Technique for Dynamic Row Content</h4><p>In this section, you compose a custom prototype cell in a storyboard. At runtime, the <span class="pediaLink" data-header="Delegation" data-contents="Delegation is a simple and powerful pattern in which one object in a program acts on behalf of, or in coordination with, another object. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/Delegation.html#/apple_ref/doc/uid/TP40008195-CH14" target="_self">data source</a></span> dequeues cells, prepares them, and gives them to its table view for drawing the rows depicted in <span class="content_text">Figure 5-6</span>. </p><figure class="figure"><a name="//apple_ref/doc/uid/TP40007451-CH7-SW21" title="Figure 5-6Table view rows drawn with a custom prototype cell"></a><figcaption><strong class="caption_number">Figure 5-6</strong>&nbsp;&nbsp;Table view rows drawn with a custom prototype cell</figcaption><img src="../Art/list_single_cell.jpg" alt="" width="320" height="480"></figure><p>The data source can use two different ways to access the subviews of the cells. One approach uses the <code><a href="../../../../UIKit/Reference/UIView_Class/UIView/UIView.html#/apple_ref/occ/instp/UIView/tag" target="_self">tag</a></code> property defined by <code>UIView</code> and the other approach uses outlets. Using tags is convenient, although it makes the code more fragile because it introduces a coupling between the tag numbers in the storyboard and the code. Using outlets requires a little more work because you need to define a custom subclass of <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/cl/UITableViewCell" target="_self">UITableViewCell</a></code>. Both approaches are described here. </p><div class="task closed"><a name="//apple_ref/doc/uid/TP40007451-CH7-SW27" title="To create a project that uses a storyboard to load custom table view cells"></a><div class="task-name"><img class="taskbullet" src="../../../../../Resources/874/Images/applehelp/task_2x.png" alt="bullet" width="20" height="20" /><div>To create a project that uses a storyboard to load custom table view cells</div></div><div class="task-content"><ol><li class="step"><div class="action"><p>Create a project using the Master-Detail Application template and select the Use Storyboards option.</p></div></li><li class="step"><div class="action"><p>On the storyboard canvas, select the master view controller.</p></div></li><li class="step"><div class="action"><p>In the Identity inspector, verify that Class is set to the custom MasterViewController class.</p></div></li><li class="step"><div class="action"><p>Select the table view inside the master view controller.</p></div></li><li class="step"><div class="action"><p>In the Attributes inspector, verify that the Content pop-up menu is set to Dynamic Prototypes.</p></div></li><li class="step"><div class="action"><p>Select the prototype cell.</p></div></li><li class="step"><div class="action"><p>In the Attributes inspector, choose Custom in the Style pop-up menu.</p></div></li><li class="step"><div class="action"><p>Enter a reuse identifier in the Identifier text field.</p></div><div class="elaborations"><p>This is the same reuse identifier you send to the table view in the <code><a href="../../../../UIKit/Reference/UITableView_Class/Reference/Reference.html#/apple_ref/occ/instm/UITableView/dequeueReusableCellWithIdentifier:" target="_self">dequeueReusableCellWithIdentifier:</a></code> message. For an example, see <span class="content_text">Listing 5-3</span>.</p></div></li><li class="step"><div class="action"><p>Choose Disclosure Indicator in the Accessory pop-up menu.</p></div></li><li class="step"><div class="action"><p>Drag objects from the Library onto the cell.</p></div><div class="elaborations"><p>For this example, drag two label objects and position them near the ends of the cell (leaving room for the accessory view).</p></div></li><li class="step"><div class="action"><p>Select the objects and set their attributes, sizes, and autoresizing characteristics.</p></div><div class="elaborations"><p>An important attribute to set for the programmatic portion of this procedure is each object’s <code><a href="../../../../UIKit/Reference/UIView_Class/UIView/UIView.html#/apple_ref/occ/instm/UIView/tag" target="_self">tag</a></code> property. Find this property in the View section of the Attributes inspector and assign each object a unique integer.</p></div></li></ol></div></div><p>Now write the code you would normally write to obtain the table view’s data. (For this example, the only data you need is the row number of each cell.) Implement the data source method <code><a href="../../../../UIKit/Reference/UITableViewDataSource_Protocol/Reference/Reference.html#/apple_ref/occ/intfm/UITableViewDataSource/tableView:cellForRowAtIndexPath:" target="_self">tableView:cellForRowAtIndexPath:</a></code> to create a new cell from the prototype and populate it with data, in a manner similar to <span class="content_text">Listing 5-3</span>.</p><a name="//apple_ref/doc/uid/TP40007451-CH7-SW23" title="Listing 5-3Adding data to a cell using tags"></a><p class="codesample clear"><strong class="caption_number">Listing 5-3</strong>&nbsp;&nbsp;Adding data to a cell using tags</p><div class="codesample clear"><table><tr><td scope="row"><pre>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"MyIdentifier"];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    UILabel *label;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    label = (UILabel *)[cell viewWithTag:1];<span></span></pre></td></tr><tr><td scope="row"><pre>    label.text = [NSString stringWithFormat:@"%d", indexPath.row];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    label = (UILabel *)[cell viewWithTag:2];<span></span></pre></td></tr><tr><td scope="row"><pre>    label.text = [NSString stringWithFormat:@"%d", NUMBER_OF_ROWS - indexPath.row];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    return cell;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>There are a few aspects of this code to note:</p><ul class="ul"><li class="li"><p>The string identifier you assign to the prototype cell is the same string you pass to the table view in <code><a href="../../../../UIKit/Reference/UITableView_Class/Reference/Reference.html#/apple_ref/occ/instm/UITableView/dequeueReusableCellWithIdentifier:" target="_self">dequeueReusableCellWithIdentifier:</a></code>. </p></li><li class="li"><p>Because the prototype cell is defined in a storyboard, the <code><a href="../../../../UIKit/Reference/UITableView_Class/Reference/Reference.html#/apple_ref/occ/instm/UITableView/dequeueReusableCellWithIdentifier:" target="_self">dequeueReusableCellWithIdentifier:</a></code> method always returns a valid cell. You don’t need to check the return value against nil and create a cell manually. </p></li><li class="li"><p>The code gets the labels in the cell by calling <code><a href="../../../../UIKit/Reference/UIView_Class/UIView/UIView.html#/apple_ref/occ/instm/UIView/viewWithTag:" target="_self">viewWithTag:</a></code>, passing in their tag integers. It can then set the textual content of the labels.</p></li></ul><p>If you prefer not to use tags, you can use an alternative method for setting the content in the cell. Define a custom <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/cl/UITableViewCell" target="_self">UITableViewCell</a></code> subclass with outlet properties for the objects you want to set. In the storyboard, associate the new class with the prototype cell and connect the outlets to the corresponding objects in the cell. </p><div class="task closed"><a name="//apple_ref/doc/uid/TP40007451-CH7-SW30" title="To use outlets for the custom cell content"></a><div class="task-name"><img class="taskbullet" src="../../../../../Resources/874/Images/applehelp/task_2x.png" alt="bullet" width="20" height="20" /><div>To use outlets for the custom cell content</div></div><div class="task-content"><ol><li class="step"><div class="action"><p>Add an Objective-C class named <code>MyTableViewCell</code> to your project. </p></div></li><li class="step"><div class="action"><p>Add the following code to the interface in <code>MyTableViewCell.h</code>: </p></div><div class="elaborations"><div class="codesample clear"><table><tr><td scope="row"><pre>@interface MyTableViewCell : UITableViewCell<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@property (nonatomic, weak) IBOutlet UILabel *firstLabel;<span></span></pre></td></tr><tr><td scope="row"><pre>@property (nonatomic, weak) IBOutlet UILabel *secondLabel;<span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr></table></div></div></li><li class="step"><div class="action"><p>Add the following code to the implementation in <code>MyTableViewCell.m</code>: </p></div><div class="elaborations"><div class="codesample clear"><table><tr><td scope="row"><pre>@synthesize firstLabel, secondLabel;<span></span></pre></td></tr></table></div></div></li><li class="step"><div class="action"><p>Add the following line of code to the source file that implements the data source:</p></div><div class="elaborations"><div class="codesample clear"><table><tr><td scope="row"><pre>#import "MyTableViewCell.h"<span></span></pre></td></tr></table></div></div></li><li class="step"><div class="action"><p>Use the Identity inspector to set the Class of the prototype cell to <code>MyTableViewCell</code>.</p></div></li><li class="step"><div class="action"><p>Use the Connections inspector to connect the two outlets in the prototype cell to their corresponding labels. </p></div><div class="elaborations"><figure class="figure"><img src="../Art/connect_outlet.jpg" alt="../Art/connect_outlet.jpg" width="633" height="372"></figure></div></li><li class="step"><div class="action"><p>Implement the data source method <code><a href="../../../../UIKit/Reference/UITableViewDataSource_Protocol/Reference/Reference.html#/apple_ref/occ/intfm/UITableViewDataSource/tableView:cellForRowAtIndexPath:" target="_self">tableView:cellForRowAtIndexPath:</a></code> in a manner similar to <span class="content_text">Listing 5-4</span>. </p></div></li></ol></div></div><a name="//apple_ref/doc/uid/TP40007451-CH7-SW22" title="Listing 5-4Adding data to a cell using outlets"></a><p class="codesample clear"><strong class="caption_number">Listing 5-4</strong>&nbsp;&nbsp;Adding data to a cell using outlets</p><div class="codesample clear"><table><tr><td scope="row"><pre>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    MyTableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"MyIdentifier"];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    cell.firstLabel.text = [NSString stringWithFormat:@"%d", indexPath.row];<span></span></pre></td></tr><tr><td scope="row"><pre>    cell.secondLabel.text = [NSString stringWithFormat:@"%d", NUMBER_OF_ROWS - indexPath.row];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    return cell;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>The code gains access to the labels in the cell using accessor methods (dot notation is used here). The code can then set the textual content of the labels.</p></section><section><a name="//apple_ref/doc/uid/TP40007451-CH7-SW32" title="The Technique for Static Row Content"></a><h4 class="jump">The Technique for Static Row Content</h4><p>In this section, you compose several cells in a table view with static content. At runtime, when the table view is loaded from the storyboard, the table view controller has immediate access to these cells and composes the sections and rows of the table view with them, as depicted in <span class="content_text">Figure 5-7</span>. </p><figure class="figure"><a name="//apple_ref/doc/uid/TP40007451-CH7-SW25" title="Figure 5-7Table view rows drawn with multiple cells"></a><figcaption><strong class="caption_number">Figure 5-7</strong>&nbsp;&nbsp;Table view rows drawn with multiple cells</figcaption><img src="../Art/detailview_from_nib.jpg" alt="" width="320" height="480"></figure><p>As with the procedure for dynamic content, start by adding a subclass of <code><a href="../../../../UIKit/Reference/UITableViewController_Class/Reference/Reference.html#/apple_ref/occ/cl/UITableViewController" target="_self">UITableViewController</a></code> to your project. Define outlet <span class="pediaLink" data-header="Declared property" data-contents="A declared property provides a syntactical shorthand for declaring a class’s accessor methods and, optionally, implementing them. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/DeclaredProperty.html#/apple_ref/doc/uid/TP40008195-CH13" target="_self">properties</a></span> for the master row label in the first cell and the slider value label in the last cell, as shown in <span class="content_text">Listing 5-5</span>.</p><a name="//apple_ref/doc/uid/TP40007451-CH7-SW24" title="Listing 5-5Defining outlet properties for static cell objects"></a><p class="codesample clear"><strong class="caption_number">Listing 5-5</strong>&nbsp;&nbsp;Defining outlet properties for static cell objects</p><div class="codesample clear"><table><tr><td scope="row"><pre>@interface DetailViewController : UITableViewController<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@property (strong, nonatomic) id detailItem;<span></span></pre></td></tr><tr><td scope="row"><pre>@property (weak, nonatomic) IBOutlet UILabel *masterRowLabel;<span></span></pre></td></tr><tr><td scope="row"><pre>@property (weak, nonatomic) IBOutlet UILabel *sliderValueLabel;<span></span></pre></td></tr><tr><td scope="row"><pre>@property (weak, nonatomic) IBOutlet UISlider *slider;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (IBAction)logHello;<span></span></pre></td></tr><tr><td scope="row"><pre>- (IBAction)sliderValueChanged:(UISlider *)slider;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr></table></div><p>In the storyboard, drag a Table View Controller object from the Library onto the canvas. Select the table view and set the following attributes in the Attributes inspector:</p><ol class="ol"><li class="li"><p>Set the Content pop-up menu to Static Cells.</p></li><li class="li"><p>Set the number of sections to 2.</p></li><li class="li"><p>Set the Style pop-up menu to Grouped.</p></li></ol><p>For each section in the table view, use the Attributes inspector to enter a string in the Header field. Then for the cells, complete the following steps:</p><ol class="ol"><li class="li"><p>Delete two of the three cells in the first table-view section and one cell in the second section. </p></li><li class="li"><p>Increase the height of each remaining cell as needed. </p><p>It isn’t necessary to assign reuse identifiers of these cells, because you’re not going to implement the data source method <code><a href="../../../../UIKit/Reference/UITableViewDataSource_Protocol/Reference/Reference.html#/apple_ref/occ/intfm/UITableViewDataSource/tableView:cellForRowAtIndexPath:" target="_self">tableView:cellForRowAtIndexPath:</a></code>.</p></li><li class="li"><p>Drag objects from the Library to compose the subviews of each cell as depicted in <span class="content_text"><a href="TableViewCells.html#/apple_ref/doc/uid/TP40007451-CH7-SW25">Figure 5-7</a></span>. </p></li><li class="li"><p>Set any desired <span class="pediaLink" data-header="Object modeling" data-contents="Object modeling is the process of designing the objects or classes through which an object-oriented application examines and manipulates some service. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/ObjectModeling.html#/apple_ref/doc/uid/TP40008195-CH41" target="_self">attributes</a></span> of these objects.</p><p>The slider in this example has a range of values from 0 to 10 with an initial value of 7.5. </p></li></ol><p>Select the table view controller and display the Connections inspector. Make connections between the three outlets in your table view controller and the corresponding objects, as shown in <span class="content_text">Figure 5-8</span>. While you’re at it, implement the two action methods declared in <span class="content_text"><a href="TableViewCells.html#/apple_ref/doc/uid/TP40007451-CH7-SW24">Listing 5-5</a></span> and make target-action connections to the button and the slider. </p><figure class="figure"><a name="//apple_ref/doc/uid/TP40007451-CH7-SW36" title="Figure 5-8Making connections to your static cell content"></a><figcaption><strong class="caption_number">Figure 5-8</strong>&nbsp;&nbsp;Making connections to your static cell content</figcaption><img src="../Art/connect_static_objects.jpg" alt="" width="639" height="487"></figure><p>To populate the data in the static cells, implement a method called <code>configureView</code> in the detail view controller. In this example, <code>detailItem</code> is an <code>NSString</code> object passed in by the master view controller in its <code>prepareForSegue:sender:</code> method. The string contains the master row number.</p><a name="//apple_ref/doc/uid/TP40007451-CH7-SW26" title="Listing 5-6Setting the data in the user interface"></a><p class="codesample clear"><strong class="caption_number">Listing 5-6</strong>&nbsp;&nbsp;Setting the data in the user interface</p><div class="codesample clear"><table><tr><td scope="row"><pre>- (void)configureView<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    if (self.detailItem) {<span></span></pre></td></tr><tr><td scope="row"><pre>        self.masterRowLabel.text = [self.detailItem description];<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    self.sliderValueLabel.text = [NSString stringWithFormat:@"%1.1f", self.slider.value];<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>The detail view controller calls the <code>configureView</code> method in <code>viewDidLoad</code> and <code>setDetailItem:</code>, as illustrated in the Xcode template Master-Detail Application. </p></section></section><section><a name="//apple_ref/doc/uid/TP40007451-CH7-SW15" title="Programmatically Adding Subviews to a Cell’s Content View"></a><h3 class="jump">Programmatically Adding Subviews to a Cell’s Content View</h3><p>A cell that a table view uses for displaying a row is a view (<code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/cl/UITableViewCell" target="_self">UITableViewCell</a></code> inherits from <code><a href="../../../../UIKit/Reference/UIView_Class/UIView/UIView.html#/apple_ref/occ/cl/UIView" target="_self">UIView</a></code>). As a view, a cell has a content view—a superview for cell content—that it exposes as a <span class="pediaLink" data-header="Declared property" data-contents="A declared property provides a syntactical shorthand for declaring a class’s accessor methods and, optionally, implementing them. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/DeclaredProperty.html#/apple_ref/doc/uid/TP40008195-CH13" target="_self">property</a></span>. To customize the appearance of rows in a table view, add subviews to the cell’s content view, which is accessible through its <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/contentView" target="_self">contentView</a></code> property, and lay them out in the desired locations in their superview’s coordinates. You can configure and lay them out programmatically or in Interface Builder. (The approach using Interface Builder is discussed in <span class="content_text"><a href="TableViewCells.html#/apple_ref/doc/uid/TP40007451-CH7-SW20">“Loading Table View Cells from a Storyboard.”</a></span>)</p><p>One advantage of this approach is its relative simplicity; it doesn’t require you to create a custom subclass of <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/cl/UITableViewCell" target="_self">UITableViewCell</a></code> and handle all of the implementation details required for custom views. However, if you do take this approach, avoid making the views transparent, if you can. Transparent subviews affect scrolling performance because of the increased compositing cost. Subviews should be opaque, and typically should have the same background color as the cell. And if the cell is selectable, make sure that the cell content is highlighted appropriately when selected. The content is selected automatically if the subview implements (if appropriate) the <span class="pediaLink" data-header="Accessor method" data-contents="An accessor method is an instance method that gets or sets the value of a property of an object. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/AccessorMethod.html#/apple_ref/doc/uid/TP40008195-CH2" target="_self">accessor methods</a></span> for the <code><a href="../../../../UIKit/Reference/UILabel_Class/Reference/UILabel.html#/apple_ref/occ/instp/UILabel/highlighted" target="_self">highlighted</a></code> property.</p><p>Suppose you want a cell with text and image content in custom locations. For example, you want the image on the right side of the cell and the title and subtitle of the cell right-aligned against the left side of the image. <span class="content_text">Figure 5-9</span> show how a table view with rows drawn with such a cell might look. (This example is for illustration only, and is not intended as a human-interface model.)</p><figure class="figure"><a name="//apple_ref/doc/uid/TP40007451-CH7-SW16" title="Figure 5-9Cells with custom content as subviews"></a><figcaption><strong class="caption_number">Figure 5-9</strong>&nbsp;&nbsp;Cells with custom content as subviews</figcaption><img src="../Art/tv_cell_custom_layout.jpg" alt="" width="322" height="482"></figure><p>The code example in <span class="content_text">Listing 5-7</span> illustrates how the <span class="pediaLink" data-header="Delegation" data-contents="Delegation is a simple and powerful pattern in which one object in a program acts on behalf of, or in coordination with, another object. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/Delegation.html#/apple_ref/doc/uid/TP40008195-CH14" target="_self">data source</a></span> programmatically composes the cell with which this table view draws its rows. In <code><a href="../../../../UIKit/Reference/UITableViewDataSource_Protocol/Reference/Reference.html#/apple_ref/occ/intfm/UITableViewDataSource/tableView:cellForRowAtIndexPath:" target="_self">tableView:cellForRowAtIndexPath:</a></code>,  it first checks to see the table view already has a cell object with the given reuse identifier. If there is no such object, the data source creates two label objects and one image view with specific frames within the coordinate system of their superview (the content view). It also sets attributes of these objects. Having acquired an appropriate cell to use, the data source sets the cell’s content before returning the cell.</p><a name="//apple_ref/doc/uid/TP40007451-CH7-SW17" title="Listing 5-7Adding subviews to a cell’s content view"></a><p class="codesample clear"><strong class="caption_number">Listing 5-7</strong>&nbsp;&nbsp;Adding subviews to a cell’s content view</p><div class="codesample clear"><table><tr><td scope="row"><pre>#define MAINLABEL_TAG 1<span></span></pre></td></tr><tr><td scope="row"><pre>#define SECONDLABEL_TAG 2<span></span></pre></td></tr><tr><td scope="row"><pre>#define PHOTO_TAG 3<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    static NSString *CellIdentifier = @"ImageOnRightCell";<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    UILabel *mainLabel, *secondLabel;<span></span></pre></td></tr><tr><td scope="row"><pre>    UIImageView *photo;<span></span></pre></td></tr><tr><td scope="row"><pre>    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];<span></span></pre></td></tr><tr><td scope="row"><pre>    if (cell == nil) {<span></span></pre></td></tr><tr><td scope="row"><pre>        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];<span></span></pre></td></tr><tr><td scope="row"><pre>        cell.accessoryType = UITableViewCellAccessoryDetailDisclosureButton;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        mainLabel = [[UILabel alloc] initWithFrame:CGRectMake(0.0, 0.0, 220.0, 15.0)];<span></span></pre></td></tr><tr><td scope="row"><pre>        mainLabel.tag = MAINLABEL_TAG;<span></span></pre></td></tr><tr><td scope="row"><pre>        mainLabel.font = [UIFont systemFontOfSize:14.0];<span></span></pre></td></tr><tr><td scope="row"><pre>        mainLabel.textAlignment = UITextAlignmentRight;<span></span></pre></td></tr><tr><td scope="row"><pre>        mainLabel.textColor = [UIColor blackColor];<span></span></pre></td></tr><tr><td scope="row"><pre>        mainLabel.autoresizingMask = UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleHeight;<span></span></pre></td></tr><tr><td scope="row"><pre>        [cell.contentView addSubview:mainLabel];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        secondLabel = [[UILabel alloc] initWithFrame:CGRectMake(0.0, 20.0, 220.0, 25.0)];<span></span></pre></td></tr><tr><td scope="row"><pre>        secondLabel.tag = SECONDLABEL_TAG;<span></span></pre></td></tr><tr><td scope="row"><pre>        secondLabel.font = [UIFont systemFontOfSize:12.0];<span></span></pre></td></tr><tr><td scope="row"><pre>        secondLabel.textAlignment = UITextAlignmentRight;<span></span></pre></td></tr><tr><td scope="row"><pre>        secondLabel.textColor = [UIColor darkGrayColor];<span></span></pre></td></tr><tr><td scope="row"><pre>        secondLabel.autoresizingMask = UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleHeight;<span></span></pre></td></tr><tr><td scope="row"><pre>        [cell.contentView addSubview:secondLabel];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>        photo = [[UIImageView alloc] initWithFrame:CGRectMake(225.0, 0.0, 80.0, 45.0)];<span></span></pre></td></tr><tr><td scope="row"><pre>        photo.tag = PHOTO_TAG;<span></span></pre></td></tr><tr><td scope="row"><pre>        photo.autoresizingMask = UIViewAutoresizingFlexibleLeftMargin | UIViewAutoresizingFlexibleHeight;<span></span></pre></td></tr><tr><td scope="row"><pre>        [cell.contentView addSubview:photo];<span></span></pre></td></tr><tr><td scope="row"><pre>    } else {<span></span></pre></td></tr><tr><td scope="row"><pre>        mainLabel = (UILabel *)[cell.contentView viewWithTag:MAINLABEL_TAG];<span></span></pre></td></tr><tr><td scope="row"><pre>        secondLabel = (UILabel *)[cell.contentView viewWithTag:SECONDLABEL_TAG];<span></span></pre></td></tr><tr><td scope="row"><pre>        photo = (UIImageView *)[cell.contentView viewWithTag:PHOTO_TAG];<span></span></pre></td></tr><tr><td scope="row"><pre>    }<span></span></pre></td></tr><tr><td scope="row"><pre>    NSDictionary *aDict = [self.list objectAtIndex:indexPath.row];<span></span></pre></td></tr><tr><td scope="row"><pre>    mainLabel.text = [aDict objectForKey:@"mainTitleKey"];<span></span></pre></td></tr><tr><td scope="row"><pre>    secondLabel.text = [aDict objectForKey:@"secondaryTitleKey"];<span></span></pre></td></tr><tr><td scope="row"><pre>    NSString *imagePath = [[NSBundle mainBundle] pathForResource:[aDict objectForKey:@"imageKey"] ofType:@"png"];<span></span></pre></td></tr><tr><td scope="row"><pre>    UIImage *theImage = [UIImage imageWithContentsOfFile:imagePath];<span></span></pre></td></tr><tr><td scope="row"><pre>    photo.image = theImage;<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    return cell;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr></table></div><p>When the data source creates the cells, it assigns each subview an identifier called a tag. With tags, you can locate a view in its view hierarchy by calling the <code><a href="../../../../UIKit/Reference/UIView_Class/UIView/UIView.html#/apple_ref/occ/instm/UIView/viewWithTag:" target="_self">viewWithTag:</a></code> method. If the <span class="pediaLink" data-header="Delegation" data-contents="Delegation is a simple and powerful pattern in which one object in a program acts on behalf of, or in coordination with, another object. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/Delegation.html#/apple_ref/doc/uid/TP40008195-CH14" target="_self">delegate</a></span> later gets the designated cell from the table view’s queue, it uses the tags to obtain references to the three subviews prior to assigning them content. </p><p>This code creates a <code>UITableViewCell</code> object in the predefined default style (<code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/c/econst/UITableViewCellStyleDefault" target="_self">UITableViewCellStyleDefault</a></code>). Because the content properties of the standard cells—<code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/textLabel" target="_self">textLabel</a></code>, <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/detailTextLabel" target="_self">detailTextLabel</a></code>, and <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instm/UITableViewCell/imageView" target="_self">imageView</a></code>—are <code>nil</code> until assigned content, you may use any predefined cell as the template for customization.</p><div class="notebox"><aside><a name="//apple_ref/doc/uid/TP40007451-CH7-SW33" title="Note"></a><p><strong>Note:</strong>&nbsp;Another approach is to subclass <code>UITableViewCell</code> and create instances in the <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/c/econst/UITableViewCellStyleSubtitle" target="_self">UITableViewCellStyleSubtitle</a></code> style. Then override the <code><a href="../../../../UIKit/Reference/UIView_Class/UIView/UIView.html#/apple_ref/occ/instm/UIView/layoutSubviews" target="_self">layoutSubviews</a></code> method to reposition the <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/textLabel" target="_self">textLabel</a></code>, <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/detailTextLabel" target="_self">detailTextLabel</a></code>, and <code><a href="../../../../UIKit/Reference/UITableViewCell_Class/Reference/Reference.html#/apple_ref/occ/instp/UITableViewCell/imageView" target="_self">imageView</a></code> subviews (after calling <code>super</code>).</p><p></p></aside></div><p>One way to achieve “attributed string” effects with textual content is to lay out <code><a href="../../../../UIKit/Reference/UILabel_Class/Reference/UILabel.html#/apple_ref/occ/cl/UILabel" target="_self">UILabel</a></code> subviews of the <code>UITableViewCell</code> content view. The text of each label can have its own font, color, size, alignment, and other characteristics. If you want that kind of variation within a label object, create multiple labels and lay them out relative to each other. </p></section></section><section><a name="//apple_ref/doc/uid/TP40007451-CH7-SW5" title="Enhancing the Accessibility of Table View Cells"></a><h2 class="jump">Enhancing the Accessibility of Table View Cells</h2><p>If your app displays a table view in which each cell contains items other than (or in addition to) text, there are a few things you can do to make it more <span class="pediaLink" data-header="Accessibility" data-contents="Accessible apps can be used by everyone, regardless of their limitations or disabilities. "><a href="../../../../General/Conceptual/DevPedia-CocoaCore/Accessibility.html#/apple_ref/doc/uid/TP40008195-CH66" target="_self">accessible</a></span>. Similarly, if your table view displays more than one piece of information per row, you can enhance a VoiceOver user’s experience by aggregating the information in a single, easy-to-understand label.</p><div class="notebox"><aside><a name="//apple_ref/doc/uid/TP40007451-CH7-SW6" title="Note"></a><p><strong>Note:</strong>&nbsp;If your table cells contain any of the standard table-view elements, such as the disclosure indicator, detail disclosure button, or delete control, you do not have to do anything to make these elements accessible. If, however, your table cells include other types of controls, such as a switch or a slider, you need to make sure that these elements are appropriately accessible.</p><p></p></aside></div><p>If the table cells in your app contain a mix of different elements, determine whether users interact with each cell as a unit, or with individual elements inside the cell. If users need to access individual elements inside the cell, you should:</p><ul class="ul"><li class="li"><p>Make each individual element accessible separately.</p></li><li class="li"><p>Make sure the table cell itself is <em>not</em> accessible.</p></li><li class="li"><p>Succinctly describe the overall contents of the cell and use this description for the label attribute of the cell. Note that, in this case, the label is considered to be one of the accessible elements within the cell.</p></li></ul><p>You’ve probably recognized that a table cell that contains multiple items, such as text and controls, fits the criteria of a container view, as defined by the UI Accessibility programming interface. However, you do not have to identify the cell as a container view or implement any of the methods of the <code>UIAccessibilityContainer</code> protocol, because the table cell is automatically designated as a container.</p><p>If your table contains cells that provide information in discrete chunks, you should consider combining the information from these chunks in the label attribute. When you do this, VoiceOver users can get the meaning of the cell’s contents with one gesture, instead of having to access each piece of information separately.</p><p>A good example of how this can work is in the built-in Stocks app. Instead of providing the company name, current stock price, and change in price as separate strings, Stocks combines this information in the label, which might sound like this: “Apple Inc., $648.11, up 1.85%." Notice the commas in this label. When you combine discrete pieces of information in this way, you can use commas to tell VoiceOver to pause briefly between phrases, making it easier for users to understand the information.</p><p><span class="content_text"><a href="TableViewCells.html#/apple_ref/doc/uid/TP40007451-CH7-SW7">Listing 5-8</a></span> shows how to combine the information in the labels of two separate elements into a single label that describes both:</p><a name="//apple_ref/doc/uid/TP40007451-CH7-SW7" title="Listing 5-8Concatenating labels of a table cell"></a><p class="codesample clear"><strong class="caption_number">Listing 5-8</strong>&nbsp;&nbsp;Concatenating labels of a table cell</p><div class="codesample clear"><table><tr><td scope="row"><pre>@implementation WeatherTableViewController<span></span></pre></td></tr><tr><td scope="row"><pre>// This is a view that provides weather information. It contains a city subview and a temperature subview, each of which provides a separate label.<span></span></pre></td></tr><tr><td scope="row"><pre>- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath<span></span></pre></td></tr><tr><td scope="row"><pre>{<span></span></pre></td></tr><tr><td scope="row"><pre>    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:@"Cell" forIndexPath:indexPath];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // set up the cell here...<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    NSString *cityLabel = [self.weatherCity accessibilityLabel];<span></span></pre></td></tr><tr><td scope="row"><pre>    NSString *temperatureLabel = [self.weatherTemp accessibilityLabel];<span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre>    // Combine the city and temperature information so that VoiceOver users can get the weather information with one gesture.<span></span></pre></td></tr><tr><td scope="row"><pre>    [cell setAccessibilityLabel:[NSString stringWithFormat:@"%@, %@", cityLabel, temperatureLabel]];<span></span></pre></td></tr><tr><td scope="row"><pre>    return cell;<span></span></pre></td></tr><tr><td scope="row"><pre>}<span></span></pre></td></tr><tr><td scope="row"><pre>@end<span></span></pre></td></tr></table></div><p>Joining the table cell’s accessibility labels isn’t the only thing you can do to enhance the overall accessibility of your table view. You can also change the way VoiceOver reads the table view’s indexed list. To learn more, read <span class="content_text"><a href="../CreateConfigureTableView/CreateConfigureTableView.html#/apple_ref/doc/uid/TP40007451-CH6-SW30">“Populating an Indexed List.”</a></span></p></section><section><a name="//apple_ref/doc/uid/TP40007451-CH7-SW19" title="Cells and Table View Performance"></a><h2 class="jump">Cells and Table View Performance</h2><p>The proper use of table view cells, whether off-the-shelf or custom cell objects, is a major factor in the performance of table views. Ensure that your application does the following three things:</p><ul class="ul"><li class="li"><p><strong>Reuse cells</strong>. Object allocation has a performance cost, especially if the allocation has to happen repeatedly over a short period—say, when the user scrolls a table view. If you reuse cells instead of allocating new ones, you greatly enhance table view performance.</p></li><li class="li"><p><strong>Avoid relayout of content</strong>. When reusing cells with custom subviews, refrain from laying out those subviews each time the table view requests a cell. Lay out the subviews once, when the cell is created.</p></li><li class="li"><p><strong>Use opaque subviews</strong>. When customizing table view cells, make the subviews of the cell opaque, not transparent.</p></li></ul></section>
        <div id="pageNavigationLinks_bottom" class="pageNavigationLinks">
            <a class='nextLink' rel='next' href='../ManageSelections/ManageSelections.html'>Next</a><a class='previousLink' rel='prev' href='../CreateConfigureTableView/CreateConfigureTableView.html'>Previous</a>
        </div><br/>
        <div class="copyright"><br/><hr /><div align="center"><p class="content_text" lang="en" dir="ltr"> Copyright &#x00a9; 2013 Apple Inc. All Rights Reserved. <a href="http://www.apple.com/legal/internet-services/terms/site.html" target="_blank">Terms of Use</a>   |  <a href="http://www.apple.com/privacy/" target="_blank">Privacy Policy</a>  |  Updated: 2013-09-18</p></div></div>

        <div id="pediaWindow">
            <div id="pediaHeader"></div>
            <div id="pediaBody"></div>
        </div>
    </article>

    <div id="blackout">
    <div id="preload"></div>
</div>
<div id="leave_feedback" class="button" role="button" tabindex="0">Feedback</div>
<div id="modal" aria-hidden="true">
    <div id="closebox" tabindex="0" aria-label="Close feedback form" role="button"></div>
    <div id="sending" class="hidden">
        <h2 tabindex="0">Sending feedback&hellip;</h2>
        <div id="sending_img"></div>
    </div>
    <div id="error" class="hidden">
        <h2 tabindex="0">We&rsquo;re sorry, an error has occurred.</h2>
        <p>Please try submitting your feedback later.</p>
        <div id="error_icon"></div>
    </div>
    <div id="success" class="hidden">
        <h2 tabindex="0">Thank you for providing feedback!</h2>
        <p>Your input helps improve our developer documentation.</p>
        <div id="thank_you_icon"></div>
    </div>
    
    <form id="feedback" action="#" method="post">
        <div class="left-leaf">
            <h2 id="helpful_title" data-asterisk="a1" tabindex="0">How helpful is this document?</h2>     
            <sup id="a1" class="asterisk" aria-hidden="true">*</sup>

            <div id="star_group" role="radiogroup" aria-required="true">
                <label> 
                    <input class="radio" type="radio" name="helped" value="1" /> 
                    Very helpful
                </label>
                <label> 
                    <input class="radio" type="radio" name="helped" value="2" /> 
                    Somewhat helpful
                </label>
                <label>
                    <input class="radio" type="radio" name="helped" value="3" /> 
                    Not helpful
                </label>
            </div>
        </div>
        <div class="right-leaf">
            <h2>How can we improve this document?</h2>
            <div id="improve" class="checkboxes">
                <label>
                    <input type="checkbox" name="typo" /> 
                    Fix typos or links
                </label>
                <label>
                    <input type="checkbox" name="infoIncorrect" /> 
                    Fix incorrect information
                </label>
                <label>
                    <input type="checkbox" name="needs_examples" /> 
                    Add or update code samples
                </label>
                <label>
                    <input type="checkbox" name="needs_art" /> 
                    Add or update illustrations
                </label>
                <label>
                    <input type="checkbox" name="missingInfo" /> 
                    Add information about...
                </label>
            </div>
        </div>

        <textarea id="comment" name="problem" cols="70" rows="8" placeholder="Please tell us more about your experience with this document" data-asterisk="a2" required></textarea>
        <sup id="a2" class="asterisk" aria-hidden="true">*</sup>

        <input id="email" type="email" name="email" placeholder="Email (optional)" size="48">

        <p class="fineprint">
            <em aria-hidden="true"><span>*</span> Required information</em>
        </p> 

        <input id="submit" type="button" value="Send" />

        <section id="legal">
            <p>
                To submit a product bug or enhancement request, please visit the 
                <a href="../../../../../../../bug-reporting/index.html" target="_blank">Bug Reporter</a> 
                page.
            </p>
            <p>
                Please read <a href="http://www.apple.com/legal/policies/ideas.html" target="_blank">Apple's Unsolicited Idea Submission Policy</a> 
                before you send us your feedback.
            </p> 
        </section>
    </form>
</div>

    
    <script charset="utf-8" src="../../../../../Resources/874/JavaScript/lib/prototype.js"></script>
    <script src="../../../../../Resources/874/JavaScript/library.js"></script>
    <script src="../../../../../Resources/874/JavaScript/feedback.js"></script>
</body>
<script type="text/javascript" src="../../../../../../webstats/pagetracker.js"></script>
<script type="text/javascript">
if(typeof PageTracker !== 'undefined') {
  if(window.addEventListener) {
    window.addEventListener("load", function(){PageTracker.logPageLoad()},false);
  } else if(window.attachEvent) {
    window.attachEvent("onload",function(){PageTracker.logPageLoad()});
  }
}
</script>
</html>
